language: python
python:
- '3.6'
install:
- pip install -r requirements.txt
script:
- molecule create
- molecule converge
- molecule verify
after_script:
- molecule destroy
env:
  matrix:
  - GCE_CREDENTIALS_FILE="$(pwd)/credentials.json"
  global:
  - secure: FlNOsnuhDrPreYRY5qY982PUo9Mo+QmkO4+mgBd1bEwnKJw/FYNkMDSEJItrv/unQyzsUoBbHrN3vGdGlKoJpejnkXk/RJPfXJ8B+VN6rGnSBZAtiZXCiKPwZ/8Ft9o4fnoce3EFKPPnE6GDJ9nODoXfqS+gYjuTRHTdpkuYn4sgk3LEDbFit9X/DIvq0pEPgoE09cLX2RhzF75ohDegKUqzRqRfwq8powv8tGoqYRJ0KlCLZcHEzaV2SA7ZbvTsNO2OYjZ2Lne73hjUUaZNhJAo14TmQ9EyrjXvQI+Ycd9UYt/Hdvta8GEHu2Hhee3rzrLlnLQZglLiHhcsYHrO078Ma4ia6gMIZBwn7sg3KVkA6TILpJvXNIaSOID7ypKpNx1Vy4u51chJSA84Xl9MRf0cXrJBQWXxE3Pd0PS9yi0D4tfSMcTHeYDuK/IuRI/nsQIWSeTWQzdtJ/GCsOCvBfS1nxE01PwHjn+GRJWsLyDLmDI+kd+PF40niiMeF0tOJA+IoeBtn629ysjsdgxFXtBrmfDPM3PTaAtYvusUJlRnk7ElPphbsweDqLpNgNNTI/K6ww2Txm14mUOeY4vHyuIqMH6izpteEv/pGeD+7sZBTzFu3lHpIO9OYfP93Ni0XGqdK2fiYjgjQdIB2QYc49ZqhiVtj2mng1IIa/GST84=
  - secure: 6OMMN4OmIaALguZRMNFZx9j5uCdBGNyIrIcmE15XkH02IgsFlc4AYKMRunAIf5gcN4LeT8DI66DB0j4vQC783rMhs3ej4jdgeThRNZh8UYt4EHC/jMZkJ8v59zCp+6BcSQ359t4FrZHqD9XEJNtCLKND3e2drfVsuaOxrsZGq5TDxOPsVnemp+PbjV47Bf7fY8OiMNBVyLXJF1f72r855dTjgXnYfRMC1uRfWq3/s2FLNpeAcmBzB0yTP6QVDKJquI35R49OwiQIc5tCB7dQEq9FaXDZda/P32+8pqXTOTy0ZKDJCBp3eFX42hqg9+d9ZLb9PiUXzt8H8EpzIajtu9fLybfIFIrQEcLCiyCJktxONZFNufK4fQhMkqRUt/ZsbxiidLgMjk40E3Ls+lbZUL91WuAEpRs/je07Mhz2b5N94K4TycpSSdwk69UDh/gTQrRx0MXbmVbyxK0q+fZmdBdhwUAVR4q31BLR7EasKWT0uH5UJxZ1A4r5F4bqHZeFKSWrNYvn3aRxy/Ppaq7Ttcy0nzvPhs8sEcLx40hBchNjccqjPTLLuQvHCsAmN2UAJtuxCvYFWkeIdbklHloihwsdLpdSjJPAeEh9E50aheEz7vmktprKbW/tOEpqqHd2aYELvZUpWGIAyf9M2WU7jtvfGOGvp3Faod18FI8Q6Xo=
before_install:
- openssl aes-256-cbc -K $encrypted_62508508b78f_key -iv $encrypted_62508508b78f_iv
  -in secrets.tar.enc -out secrets.tar -d
- tar xvf secrets.tar
- mv google_compute_engine* /home/travis/.ssh/
- chmod 0600 /home/travis/.ssh/google_compute_engine*
notifications:
  slack:
    rooms:
      secure: Q37Rh0WOl7rnpmATYtYcgBgj2Rf+CNpsHcXKpaqMBB0emRRJiZvsuSXQkMSHRjgXmhsX/Cowc3i+Tic9Zkgn1Lhb0HoTtYJAF4Rn9X67eiN4DnPKQAE9sc2D8SDZRL+gmoNlbBCc1d/eQwprMc+UbotC9Z7MhQPD2HgJoNBLygJUJSjvaI4SM5mZEEJdY/fyqhshuMjLv2TwLyJry57d7dXq5VIOYwPecfkWxzxYipwpbj6aekSpyVuoU3OdKcEGXRyCs+zyKJNcbqthQghSeKwVStzy4x2TnPSgmsEG/Y6EeozoyCdMqOP+QUgqAAdIoQRuRG/PbN21vkazyBSE9FS1dZhfHzqRBKm+Ae0J7QalcbbS6SbVu2aGnGefg9NQR4AjAzlc6vdgSmH7tmn+kZUi6TVf1Xsb4ai4xCvr1m4FH8HxUDWOGo6VBZlYpUaQENqI0E96gtMC/l4F+FCtdOqvWdQw0fSF3IBaPaEM8vr3r6ZpMfZpUVlL+hvuoqOfzHjx56Y61IZvqbcbPt+5kbPtDzGiEaH6SIzKF4HrX8qGTfxXLsbaP0AcFw1Hbu+YPMAQIoQClz6H5Zdz0kXCHtPYV7bVDga5H4x74ezva4FjTBtiau4muXpQb6te1iXCQjmZWfbgUuuCPUNdN/nSC7QJwckAU8gM87l+6pUGu14=
